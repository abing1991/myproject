#/bin/bash

echo "/* don't edit, auto generated by build/tools/gendefconfig.sh */"
echo "#ifndef __AUTO_CONFIG_H__"
echo "#define __AUTO_CONFIG_H__"
echo 

#define
cat .config | sed 's/[[:space:]]//g' | grep "^[A-Z]" | grep -v "=n$" | sed 's/=y//' | sed 's/=/ /' | sed 's/^/#define /g'
# sed 's/\"/\\\"/g' | xargs -i echo -e "#define {}\n"

#undef
cat .config | sed 's/[[:space:]]//g' | grep "^[A-Z]" | grep "=n$" | sed 's/=n//' | sed 's/^/#undef /g'
#xargs -i echo "#undef {}"

echo
echo "#endif"
